(this["webpackJsonparistek-template-v1"]=this["webpackJsonparistek-template-v1"]||[]).push([[0],{131:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAlbum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:58}};i.loc.source={body:"mutation deleteAlbum($id: ID!) {\n  deleteAlbum(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.deleteAlbum=function(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}(i,"deleteAlbum")},132:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPhotos"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paginate"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:340}};i.loc.source={body:"query getPhotos($id: ID!, $page: Int, $limit: Int) {\n  album(id: $id) {\n    user {\n      id\n      username\n      name\n    }\n    title\n    id\n    photos(options: { paginate: { page: $page, limit: $limit } }) {\n      data {\n        id\n        title\n        url\n        thumbnailUrl\n      }\n      meta {\n        totalCount\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.getPhotos=function(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}(i,"getPhotos")},133:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paginate"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:297}};i.loc.source={body:"query getAlbums($page: Int, $limit: Int) {\n  albums(options: { paginate: { page: $page, limit: $limit } }) {\n    data {\n      id\n      title\n      user {\n        id\n        username\n      }\n      photos {\n        data {\n          id\n        }\n      }\n    }\n    meta {\n      totalCount\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.getAlbums=function(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}(i,"getAlbums")},155:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:74}};i.loc.source={body:"query getUsers {\n  users {\n    data {\n      id\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.getUsers=function(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}(i,"getUsers")},156:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createAlbum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};i.loc.source={body:"mutation createAlbum($title: String!, $userId: ID!) {\n  createAlbum(input: { title: $title, userId: $userId }) {\n    id\n    title\n    user {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.createAlbum=function(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}(i,"createAlbum")},157:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateAlbum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:"mutation updateAlbum($id: ID!, $userId: ID!, $title: String!) {\n  updateAlbum(input: { title: $title, userId: $userId }, id: $id) {\n    id\n    title\n    user {\n      id\n    }\n  }\n}\n\nquery getAlbum($id: ID!) {\n  album(id: $id) {\n    id\n    title\n    user {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}function d(e,n){var i={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,d=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return d.forEach((function(n){var t=l(e,n);t&&i.definitions.push(t)})),i}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.updateAlbum=d(i,"updateAlbum"),e.exports.getAlbum=d(i,"getAlbum")},311:function(e,n,i){"use strict";i.r(n);var t=i(1),a=i.n(t),l=i(17),d=i(78),r=i(14),c=i(313),s=i(325),o=i(324),u=i(8),m=i(9),b=i(5),v=Object(t.createContext)(null),j=function(){return!!localStorage.getItem("fake-token")},f=function(e){var n=e.children,i=Object(t.useState)(j),a=Object(m.a)(i,2),l=a[0],d=a[1],r=Object(u.h)(),c={user:l,signIn:function(){localStorage.setItem("fake-token",(new Date).toString()),d(!0),r("/admin_panel/albums",{replace:!0})},signOut:function(){localStorage.removeItem("fake-token"),d(!1)}};return Object(b.jsx)(v.Provider,{value:c,children:n})},k=function(){return Object(t.useContext)(v)},h=function(e){var n=e.children;return k().user?n:Object(b.jsx)(u.a,{to:"/admin_panel/login"})},O=i(323),p=i(128),g=i(159),x=i(80),S=i(170),N=i(21),y=function(e){var n=e.onSubmit,i=e.validationSchema,t=e.children,l=Object(N.f)({resolver:Object(S.a)(i)});return a.a.useEffect((function(){var e=l.getValues(),n=Object.keys(e)[0];l.setFocus(n)}),[l]),Object(b.jsx)(N.a,Object(x.a)(Object(x.a)({},l),{},{children:Object(b.jsx)("form",{onSubmit:l.handleSubmit(n),children:t})}))},w=i(160),D=i(125),F=i(58),E=function(e){var n,i=e.children,t=e.name,a=e.label,l=Object(N.g)().formState.errors;return Object(b.jsxs)(F.a,{isInvalid:!!l[t],children:[Object(b.jsx)(F.c,{htmlFor:t,children:a}),i,Object(b.jsx)(F.b,{children:l[t]&&(null===(n=l[t])||void 0===n?void 0:n.message)})]})},V=["name","label","rules","defaultValue"],A=function(e){var n=e.name,i=e.label,t=e.rules,a=e.defaultValue,l=Object(w.a)(e,V),d=Object(N.g)().control,r=Object(N.e)({control:d,name:n,rules:t,defaultValue:a||""}).field,c=r.onChange,s=r.onBlur,o=r.value,u=r.ref;return Object(b.jsx)(E,{name:n,label:i,children:Object(b.jsx)(D.a,Object(x.a)({ref:u,value:o,name:n,onChange:c,onBlur:s},l))})},I=i(126),C=i(127),T=i(162),q=function(e){var n=e.data,i=e.children;return Object(b.jsx)(I.b,{children:Object(b.jsxs)(I.a,{children:[Object(b.jsx)(I.f,{children:Object(b.jsx)(I.g,{children:a.a.Children.map(i,(function(e){return Object(b.jsx)(I.e,{children:e.props.label})}))})}),Object(b.jsx)(I.c,{children:n.map((function(e){return Object(b.jsx)(I.g,{children:a.a.Children.map(i,(function(n){if(n.props.isActions)return a.a.cloneElement(n,{record:e});var i=Object(T.get)(e,n.props.dataKey);return"thumbnailUrl"===n.props.dataKey?Object(b.jsx)(I.d,{children:Object(b.jsx)(C.a,{boxSize:"50px",src:i,alt:"Photo preview"})}):Object(b.jsx)(I.d,{children:i})}))},e.id)}))})]})})},P=function(){return null},$=i(75),z=i(129),_=i(48),K=i(163),L=function(){var e=k().signOut;return Object(b.jsx)(p.a,{bg:Object($.c)("white","gray.900"),borderRight:"1px",borderRightColor:Object($.c)("gray.200","gray.700"),w:{base:40,md:60},pos:"fixed",px:"4",children:Object(b.jsxs)(p.c,{direction:"column",justifyContent:"space-between",h:"100vh",children:[Object(b.jsx)(p.a,{mt:"4",children:Object(b.jsx)(r.b,{to:"/admin_panel/albums",children:Object(b.jsx)(z.a,{colorScheme:"teal",variant:"ghost",w:"full",justifyContent:"flex-start",leftIcon:Object(b.jsx)(_.a,{as:K.a}),role:"group",_hover:{bg:"teal",color:"white"},children:"Albums"})})}),Object(b.jsx)(z.a,{w:"full",mb:4,colorScheme:"teal",onClick:e,children:"Log Out"})]})})},U=i(130),G=i(115),R=function(e){var n=e.albumsCount,i=e.setParams,a=e.currentPage,l=e.setCurrentPage,d=e.pageSize,r=e.setPageSize,c=Object(t.useState)([]),s=Object(m.a)(c,2),o=s[0],u=s[1];Object(t.useEffect)((function(){u(Array(Math.ceil(n/d)).fill("").map((function(e,n){return 1+n})))}),[n,d]);return Object(b.jsxs)(p.c,{gap:"1",justifyContent:"center",wrap:"wrap",children:[Object(b.jsxs)(U.a,{size:"sm",fontWeight:"semibold",bg:"white",borderRadius:"md",w:"15",value:d,onChange:function(e){var n=Number(e.target.value);r(n),l(1),i({page:"1",limit:String(n)})},children:[Object(b.jsx)("option",{value:"10",children:"10"}),Object(b.jsx)("option",{value:"20",children:"20"}),Object(b.jsx)("option",{value:"50",children:"50"})]}),Object(b.jsx)(z.b,{bg:"none",size:"sm",borderRadius:"50%","aria-label":"Previous page",icon:Object(b.jsx)(G.a,{}),_hover:{bg:"teal.600",color:"white"},disabled:1===a,onClick:function(){return l(a-1),void i({page:a-1,limit:String(d)})}}),o.map((function(e){return Object(b.jsx)(z.a,{size:"sm",borderRadius:"full",bg:e===a?void 0:"none",colorScheme:e===a?"teal":void 0,_hover:{bg:"teal.600",color:"white"},onClick:function(){return l(n=e),void i({page:String(n),limit:String(d)});var n},children:e},e)})),Object(b.jsx)(z.b,{bg:"none",size:"sm",borderRadius:"50%","aria-label":"Next page",icon:Object(b.jsx)(G.b,{}),_hover:{bg:"teal.600",color:"white"},disabled:a===o.length,onClick:function(){return l(a+1),void i({page:a+1,limit:String(d)})}})]})},B=function(e){var n=e.name,i=e.label,t=e.dataValueKey,a=e.dataLabelKey,l=e.data,d=e.defaultValue,r=Object(N.g)().control,c=Object(N.e)({control:r,name:n,defaultValue:d||""}).field,s=c.onChange,o=c.onBlur,u=c.value,m=c.ref;return Object(b.jsx)(E,{name:n,label:i,children:Object(b.jsx)(U.a,{name:n,value:u,ref:m,onChange:s,onBlur:o,placeholder:"-",children:l.map((function(e){return Object(b.jsx)("option",{value:e[t],children:e[a]},e[t])}))})})},Q=i(91),M=function(){return Object(b.jsx)(p.a,{h:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(b.jsx)(Q.a,{color:"teal.500",size:"xl"})})},W=function(e){var n=e.record,i=e.children;return Object(b.jsx)(I.d,{textAlign:"end",children:a.a.Children.map(i,(function(e){return a.a.cloneElement(e,{record:n})}))})};W.defaultProps={isActions:!0};var Z=W,J=i(61),H=function(e){var n=e.record;return Object(b.jsx)(r.b,{to:"../albums/".concat(null===n||void 0===n?void 0:n.id,"/edit"),children:Object(b.jsx)(_.a,{as:J.b,title:"Edit album",mx:"1"})})},Y=i(318),X=i(15),ee=i(158),ne=i(131),ie=function(e){var n=e.record,i=Object(X.d)(),a=i.isOpen,l=i.onOpen,d=i.onClose,r=Object(t.useRef)(null),c=Object(Y.a)(ne.deleteAlbum,{variables:{id:String(null===n||void 0===n?void 0:n.id)}}),s=Object(m.a)(c,2),o=s[0],u=s[1],v=u.loading,j=u.data;return Object(t.useEffect)((function(){d()}),[null===j||void 0===j?void 0:j.deleteAlbum,d]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_.a,{mx:"1",as:J.a,title:"Delete album",onClick:l,_hover:{cursor:"pointer"}}),Object(b.jsx)(ee.a,{isOpen:a,leastDestructiveRef:r,onClose:d,children:Object(b.jsx)(ee.f,{children:Object(b.jsxs)(ee.c,{children:[Object(b.jsx)(ee.e,{fontSize:"lg",fontWeight:"bold",children:"Delete album"}),Object(b.jsx)(ee.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(b.jsxs)(ee.d,{children:[Object(b.jsx)(z.a,{ref:r,onClick:d,children:"Cancel"}),Object(b.jsx)(z.a,{colorScheme:"red",ml:3,isLoading:v,onClick:function(){return o()},children:"Delete"})]})]})})})]})},te=i(165),ae=function(e){var n=e.record;return Object(b.jsx)(r.b,{to:"../albums/".concat(null===n||void 0===n?void 0:n.id),children:Object(b.jsx)(_.a,{as:te.a,title:"Show album",mx:"1"})})},le=function(){var e=Object(u.h)();return Object(b.jsx)(z.a,{colorScheme:"teal",leftIcon:Object(b.jsx)(J.c,{}),onClick:function(){return e(-1)},children:"Back"})},de=i(166),re=function(e){var n=e.record;return Object(b.jsx)(p.e,{isExternal:!0,href:String(null===n||void 0===n?void 0:n.url),children:Object(b.jsx)(_.a,{as:de.a,title:"Show photo",mx:"1"})})},ce=i(132),se=function(){var e,n,i,a,l,d,c=Object(u.i)().id,s=Object(r.c)(),o=Object(m.a)(s,2),v=o[0],j=o[1],f=Object(t.useState)(Number(v.get("page"))||1),k=Object(m.a)(f,2),h=k[0],x=k[1],S=Object(t.useState)(Number(v.get("limit"))||10),N=Object(m.a)(S,2),y=N[0],w=N[1],D=Object(O.a)(ce.getPhotos,{variables:{id:null!==c&&void 0!==c?c:"",page:h,limit:y}}),F=D.data,E=D.loading;return!F||E?Object(b.jsx)(M,{}):null!==(e=F.album)&&void 0!==e&&e.id?null!==(n=F.album.photos)&&void 0!==n&&n.data?Object(b.jsxs)(p.a,{py:"4",children:[Object(b.jsxs)(p.c,{justify:"space-between",mb:"4",children:[Object(b.jsxs)(p.d,{children:["Album: ",F.album.title]}),Object(b.jsx)(le,{})]}),Object(b.jsxs)(g.e,{defaultIndex:1,variant:"enclosed",colorScheme:"teal",children:[Object(b.jsxs)(g.b,{mb:"1em",children:[Object(b.jsx)(g.a,{children:"Basic"}),Object(b.jsx)(g.a,{children:"Photos"})]}),Object(b.jsxs)(g.d,{children:[Object(b.jsxs)(g.c,{children:[Object(b.jsxs)(p.f,{children:["ID: ",F.album.id]}),Object(b.jsxs)(p.f,{children:["User: ",null===(i=F.album.user)||void 0===i?void 0:i.name," (",null===(a=F.album.user)||void 0===a?void 0:a.username,")"]})]}),Object(b.jsxs)(g.c,{children:[Object(b.jsxs)(q,{data:null===(l=F.album.photos)||void 0===l?void 0:l.data,children:[Object(b.jsx)(P,{dataKey:"id",label:"ID"}),Object(b.jsx)(P,{dataKey:"title",label:"Title"}),Object(b.jsx)(P,{dataKey:"thumbnailUrl",label:"Preview"}),Object(b.jsx)(Z,{children:Object(b.jsx)(re,{})})]}),Object(b.jsx)(p.a,{mt:"2",children:Object(b.jsx)(R,{albumsCount:(null===(d=F.album.photos.meta)||void 0===d?void 0:d.totalCount)||0,setParams:j,currentPage:h,setCurrentPage:x,pageSize:y,setPageSize:w})})]})]})]})]}):Object(b.jsx)("p",{children:"Error"}):Object(b.jsx)(p.a,{pt:"4",children:"Error"})},oe=i(133),ue=function(){var e,n,i=Object(r.c)(),a=Object(m.a)(i,2),l=a[0],d=a[1],c=Object(t.useState)(Number(l.get("page"))||1),s=Object(m.a)(c,2),o=s[0],u=s[1],v=Object(t.useState)(Number(l.get("limit"))||10),j=Object(m.a)(v,2),f=j[0],k=j[1],h=Object(O.a)(oe.getAlbums,{variables:{page:o,limit:f}}),g=h.loading,x=h.data;return!x||g?Object(b.jsx)(M,{}):null!==x&&void 0!==x&&null!==(e=x.albums)&&void 0!==e&&e.data?Object(b.jsxs)(p.a,{py:"4",children:[Object(b.jsxs)(p.c,{mb:"4",justify:"space-between",children:[Object(b.jsx)(p.d,{children:"Albums"}),Object(b.jsx)(r.b,{to:"../albums/create",children:Object(b.jsx)(z.a,{colorScheme:"teal",my:"2",children:"Create album"})})]}),Object(b.jsxs)(q,{data:x.albums.data,children:[Object(b.jsx)(P,{label:"ID",dataKey:"id"}),Object(b.jsx)(P,{label:"Title",dataKey:"title"}),Object(b.jsx)(P,{label:"Username",dataKey:"user.username"}),Object(b.jsx)(P,{label:"Number of photos",dataKey:"photos.data.length"}),Object(b.jsxs)(Z,{children:[Object(b.jsx)(H,{}),Object(b.jsx)(ie,{}),Object(b.jsx)(ae,{})]})]}),Object(b.jsx)(p.a,{mt:"2",children:Object(b.jsx)(R,{albumsCount:(null===(n=x.albums.meta)||void 0===n?void 0:n.totalCount)||0,setParams:d,currentPage:o,setCurrentPage:u,pageSize:f,setPageSize:k})})]}):Object(b.jsx)("p",{children:"Error"})},me=i(30),be=i(155),ve=i(156),je=me.a({title:me.b().required("This is required").min(3,"Must be at least 3 characters").max(64,"Must be less than 64 characters"),user:me.b().required("This is required")}).required(),fe=function(){var e,n=Object(u.h)(),i=Object(O.a)(be.getUsers),a=i.loading,l=i.data,d=Object(Y.a)(ve.createAlbum),c=Object(m.a)(d,2),s=c[0],o=c[1],v=o.data,j=o.loading;return Object(t.useEffect)((function(){null!==v&&void 0!==v&&v.createAlbum&&n("/admin_panel/albums")}),[null===v||void 0===v?void 0:v.createAlbum,n]),!l||a?Object(b.jsx)(M,{}):null!==(e=l.users)&&void 0!==e&&e.data?Object(b.jsxs)(p.a,{py:"4",children:[Object(b.jsxs)(p.c,{justify:"space-between",children:[Object(b.jsx)(p.d,{mb:"4",children:"Create album"}),Object(b.jsx)(le,{})]}),Object(b.jsx)(p.a,{w:"500px",children:Object(b.jsxs)(y,{onSubmit:function(e){s({variables:{title:e.title,userId:e.user}})},validationSchema:je,children:[Object(b.jsx)(A,{name:"title",label:"Title"}),Object(b.jsx)(B,{name:"user",label:"User",data:l.users.data,dataValueKey:"id",dataLabelKey:"username"}),Object(b.jsxs)(p.a,{mt:"4",children:[Object(b.jsx)(z.a,{isLoading:j,mr:"2",colorScheme:"teal",type:"submit",children:"Submit"}),Object(b.jsx)(r.b,{to:"/admin_panel/albums",children:Object(b.jsx)(z.a,{children:"Cancel"})})]})]})})]}):Object(b.jsx)("p",{children:"Error"})},ke=i(157),he=me.a({title:me.b().required("This is required").min(3).max(64),user:me.b().required("This is required")}).required(),Oe=function(){var e,n,i=Object(u.i)().id,a=Object(u.h)(),l=Object(O.a)(be.getUsers),d=l.loading,c=l.data,s=Object(O.a)(ke.getAlbum,{variables:{id:null!==i&&void 0!==i?i:""}}),o=s.loading,v=s.data,j=Object(Y.a)(ke.updateAlbum),f=Object(m.a)(j,2),k=f[0],h=f[1],g=h.data,x=h.loading;return Object(t.useEffect)((function(){null!==g&&void 0!==g&&g.updateAlbum&&a("/admin_panel/albums")}),[null===g||void 0===g?void 0:g.updateAlbum,a]),!c||d||!v||o?Object(b.jsx)(M,{}):null!==c&&void 0!==c&&null!==(e=c.users)&&void 0!==e&&e.data&&null!==v&&void 0!==v&&v.album?Object(b.jsxs)(p.a,{py:"4",children:[Object(b.jsxs)(p.c,{justify:"space-between",children:[Object(b.jsx)(p.d,{mb:"4",children:"Edit album"}),Object(b.jsx)(le,{})]}),Object(b.jsx)(p.a,{w:"500px",children:Object(b.jsxs)(y,{onSubmit:function(e){k({variables:{title:e.title,userId:e.user,id:null!==i&&void 0!==i?i:""}})},validationSchema:he,children:[Object(b.jsx)(A,{name:"title",label:"Title",defaultValue:v.album.title||""}),Object(b.jsx)(B,{name:"user",label:"User",data:c.users.data,dataValueKey:"id",dataLabelKey:"username",defaultValue:(null===(n=v.album.user)||void 0===n?void 0:n.id)||""}),Object(b.jsxs)(p.a,{mt:"4",children:[Object(b.jsx)(z.a,{isLoading:x,colorScheme:"teal",type:"submit",mr:"2",children:"Edit"}),Object(b.jsx)(r.b,{to:"/admin_panel/albums",children:Object(b.jsx)(z.a,{children:"Cancel"})})]})]})})]}):Object(b.jsx)("p",{children:"Error"})},pe=me.a({email:me.b().required("This is required").email("Must be a valid email"),password:me.b().required("This is required")}).required(),ge=function(){var e=k().signIn;return Object(b.jsx)(p.b,{maxW:"container.xxl",bgGradient:"linear(to-r, green.100, pink.300)",children:Object(b.jsx)(p.c,{h:"100vh",align:"center",justify:"center",children:Object(b.jsxs)(p.a,{p:10,w:"500px",bgColor:"white",borderRadius:"lg",children:[Object(b.jsx)(p.d,{mb:"4",textAlign:"center",children:"Log In"}),Object(b.jsxs)(y,{onSubmit:function(){return e()},validationSchema:pe,children:[Object(b.jsx)(A,{name:"email",label:"Email",rules:{pattern:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/}}),Object(b.jsx)(A,{name:"password",label:"Password",type:"password"}),Object(b.jsx)(z.a,{w:"full",mt:"4",colorScheme:"teal",type:"submit",children:"Log In"})]})]})})})},xe=function(){return Object(b.jsxs)(p.a,{minH:"100vh",bgGradient:"linear(to-r, green.100, pink.300)",children:[Object(b.jsx)(L,{}),Object(b.jsx)(p.a,{ml:{base:40,md:60},px:"4",children:Object(b.jsx)(u.b,{})})]})},Se=function(){return Object(b.jsxs)(p.c,{h:"100vh",direction:"column",justify:"center",align:"center",children:[Object(b.jsx)(p.d,{as:"h1",size:"4xl",children:"404"}),Object(b.jsx)(p.d,{as:"h2",children:"Not Found"}),Object(b.jsxs)(p.f,{children:["Go to"," ",Object(b.jsx)(r.b,{to:"/admin_panel/albums",style:{textDecoration:"underline",color:"teal"},children:"home page"})]})]})},Ne=new c.a({uri:"https://graphqlzero.almansi.me/api",cache:new s.a}),ye=function(){return Object(b.jsx)(o.a,{client:Ne,children:Object(b.jsx)(f,{children:Object(b.jsxs)(u.e,{children:[Object(b.jsxs)(u.c,{path:"admin_panel",element:Object(b.jsx)(h,{children:Object(b.jsx)(xe,{})}),children:[Object(b.jsx)(u.c,{path:"albums",element:Object(b.jsx)(ue,{})}),Object(b.jsx)(u.c,{path:"albums/:id",element:Object(b.jsx)(se,{})}),Object(b.jsx)(u.c,{path:"albums/:id/edit",element:Object(b.jsx)(Oe,{})}),Object(b.jsx)(u.c,{path:"albums/create",element:Object(b.jsx)(fe,{})})]}),Object(b.jsx)(u.c,{path:"admin_panel/login",element:Object(b.jsx)(ge,{})}),Object(b.jsx)(u.c,{path:"*",element:Object(b.jsx)(Se,{})})]})})})};d.render(Object(b.jsx)(t.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(ye,{})})})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.6f84ac46.chunk.js.map